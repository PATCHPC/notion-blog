<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;📖&lt;/text&gt;&lt;/svg&gt;">

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>Notablog-我又搬家了&nbsp;|&nbsp;PC’s Notablog</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="Notablog-我又搬家了">
  
    <meta name="description" content="迁移了一下博客，简要记录装修过程">
    <meta property="og:description" content="迁移了一下博客，简要记录装修过程">
  
  
    <meta property="og:image" content="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🛰️&lt;/text&gt;&lt;/svg&gt;">
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;📖&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;😀&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>About</span>
        </div>
      </a>
    
  
    
  
</nav>
  <header class="Header">
    
    <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
    
      <div class="Header__Icon">
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🛰️&lt;/text&gt;&lt;/svg&gt;"></span>
      </div>
    
    <h1 class="Header__Title">Notablog-我又搬家了</h1>
    
      <div class="DateTagBar">
        
          <span class="DateTagBar__Item DateTagBar__Date">Posted on Sat, Dec 17, 2022</span>
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--purple">
            <a href="tag/Automation.html">Automation</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/2b008a94e2644ebaa0dfe8781b59ca2c" class="PageRoot"><div id="https://www.notion.so/dfe852f65df54f02bd2f6f3b929e6445" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">参考文档：</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://aptrinh.js.org/notion-blogging.html">https://aptrinh.js.org/notion-blogging.html</a></span></span></p></div><div id="https://www.notion.so/86f38728615a4ea1bf651b9c7fca8583" class="Divider"></div><ul id="https://www.notion.so/2ea9d1264655491f9d536c303cba52d2" class="ColorfulBlock ColorfulBlock--ColorGray TableOfContents"><li class="TableOfContents__Item"><a href="#https://www.notion.so/d1dad60198c3459ba2ad089f4bd16649"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">又搬家了</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/be50e87b7d894fa38107ceb9476a6608"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">基本部署</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/694cf74957e4433a8b2d96648718a8ff"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">上自动化</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/922b13e8e79646cebb40905d186ca3d1"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">快捷指令：shell脚本</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/5c86e416fb594fa8874e2130ad525db2"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">评论功能</span></span></div></a></li></ul><h2 id="https://www.notion.so/d1dad60198c3459ba2ad089f4bd16649" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/d1dad60198c3459ba2ad089f4bd16649"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">又搬家了</span></span></h2><div id="https://www.notion.so/33aedf76545c4cd1b3a948e325842cd3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">之前使用了hexo+github page方案，苦于主题维护不易、gitee图床不保便渐渐荒废🚬</span></span></p></div><div id="https://www.notion.so/96196cecd5704cb5ba26c4468d62785f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">本Notion重度用户也曾尝试过通过域名转发Notion链接的方式进行博客的搭建，奈何效果不是很好，且效果比较原始。</span></span></p></div><div id="https://www.notion.so/2047b2ed5bd44d9dadd10d7872603b34" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">目前使用Notablog进行部署，可以说是兼顾了静态网站的渲染效率与简洁高效的主题，还能借AWS图床一用。</span></span></p></div><h2 id="https://www.notion.so/be50e87b7d894fa38107ceb9476a6608" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/be50e87b7d894fa38107ceb9476a6608"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">基本部署</span></span></h2><ol class="NumberedListWrapper"><li id="https://www.notion.so/a153cf247f8e48bd92ec239f8fc9fbfe" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">npm环境部署+notion链接开放</span></span></li><li id="https://www.notion.so/64476bcb9a6848b18edb932da59eaed8" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">notablog generate静态文件</span></span><div id="https://www.notion.so/7b72d2c02b8d46b8af1b4db8116971f3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">notablog generate $NOTION_BLOG_ROOT</code></span></span></p></div></li><li id="https://www.notion.so/701b85fd657b43b6893f8dd0ab933761" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">github page部署</span></span><div id="https://www.notion.so/17b3a1c488744fdca2ae14dc83aa12e7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">将public目录下的文件推到</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/PATCHPC/notion-blog">Github仓库</a></span><span class="SemanticString">，并在设置中开放page选项</span></span></p></div></li></ol><div id="https://www.notion.so/b9f629c8d0a843f6a1be22c6d657f531" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">此后的基本流程为：</span></span></p></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/4046afb78b004f10b3533d3fba912d01" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">在Notablog模板界面上撰写博客</span></span></li><li id="https://www.notion.so/d1f6c9bf82044ccfb28218941b942183" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">notablog generate指令生成动态文件</span></span></li><li id="https://www.notion.so/133759bfc7e54a5b863dcada2e0597fc" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">git push到远程仓库</span></span></li></ol><h2 id="https://www.notion.so/694cf74957e4433a8b2d96648718a8ff" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/694cf74957e4433a8b2d96648718a8ff"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">上自动化</span></span></h2><div id="https://www.notion.so/137dabe306b644cba0cbd5dbd8633022" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">虽然notablog的编译效率较高，却还是得考虑静态博客的推送问题。</span></span></p></div><div id="https://www.notion.so/a19727954995441c8307208bac704230" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">既然是用Notion写了那也没什么本地存储的要求，因此下一步考虑把本地仓库的分支主要由云服务器去维护，deploy的过程也在云服务器上进行。这样以后如果用手机或其他设备也可以直接更新。但步子毕竟不能扯太大——</span><span class="SemanticString"><del class="SemanticString__Fragment SemanticString__Fragment--Strike">说不定这就是唯一一篇博客了呢</del></span><span class="SemanticString"> —— 还是先把本地的自动化做好。</span></span></p></div><div id="https://www.notion.so/410a2ed3f52b4427954b7298f5965cc5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">粗想了一下几套方案：直接用脚本/用快捷指令/Alfred运行脚本/Bardeen（一个挺好玩的插件）运行脚本。考虑了一下还是用快捷指令进行构建——体验一下苹果生态嘛😉</span></span></p></div><h3 id="https://www.notion.so/922b13e8e79646cebb40905d186ca3d1" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/922b13e8e79646cebb40905d186ca3d1"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">快捷指令：shell脚本</span></span></h3><div id="https://www.notion.so/7d996aeda2f047a2a116442d07bc1bda" class="ColumnList"><div id="https://www.notion.so/603cdefe90764da196ad07349cee07ad" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><div id="https://www.notion.so/bcc660406d00479b866e79a3867d6324" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">为了增加该脚本的可读性与隐私(”I am a very private person”)，把博客根目录存成了profile里的变量。</span></span></p></div><div id="https://www.notion.so/b0ab235c456944649bde7da35d56f08d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">不知道这个快捷指令是怎么实现的，明明是用zsh的shell但不会加载相关的变量。只能用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">source</code></span><span class="SemanticString"> 指定一下。</span></span></p></div><div id="https://www.notion.so/85c1c9b8ca7d463c9b438d8fb3566de7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></div><div id="https://www.notion.so/470b15d256e342f28236f6ab5a922a12" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><div id="https://www.notion.so/ff3a489b16d5434babfe44d1375fb777" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb8975c9c-5213-41bc-8c1d-afbeaad454d8%2FUntitled.png?width=384&amp;table=block&amp;id=ff3a489b-16d5-434b-abfe-44d1375fb777"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb8975c9c-5213-41bc-8c1d-afbeaad454d8%2FUntitled.png?width=384&amp;table=block&amp;id=ff3a489b-16d5-434b-abfe-44d1375fb777" style="width:384px"/></a><figcaption><span class="SemanticStringArray"><span class="SemanticString">贴一张宅总，顺便测测排版</span></span></figcaption></figure></div></div></div><div id="https://www.notion.so/91189655a6554dbfad07b14484a804f2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">目前实现如下：</span></span></p></div><pre id="https://www.notion.so/c7e2f7d78efc45d0bf007d805a367d7c" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token builtin class-name">source</span> ~/.zshrc
<span class="token builtin class-name">echo</span> <span class="token variable">$NOTION_BLOG_ROOT</span>
notablog generate <span class="token variable">$NOTION_BLOG_ROOT</span>
<span class="token builtin class-name">cd</span> <span class="token variable">$NOTION_BLOG_ROOT</span>/public
<span class="token function">git</span> <span class="token function">add</span> *<span class="token operator">&amp;&amp;</span><span class="token function">git</span> commit <span class="token parameter variable">-am</span> <span class="token string">"commit"</span><span class="token operator">&amp;&amp;</span><span class="token function">git</span> push origin</span></span></span></code></pre><div id="https://www.notion.so/90038d8455874e11b039e8dd8660efa7" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F9c339278-06cc-446b-8349-f5de36f326f3%2FUntitled.png?width=2354&amp;table=block&amp;id=90038d84-5587-4e11-b039-e8dd8660efa7"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F9c339278-06cc-446b-8349-f5de36f326f3%2FUntitled.png?width=2354&amp;table=block&amp;id=90038d84-5587-4e11-b039-e8dd8660efa7" style="width:100%"/></a><figcaption><span class="SemanticStringArray"><span class="SemanticString">输入输出什么的先搁置一下，看一下使用效果</span></span></figcaption></figure></div><h2 id="https://www.notion.so/5c86e416fb594fa8874e2130ad525db2" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/5c86e416fb594fa8874e2130ad525db2"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">评论功能</span></span></h2><div id="https://www.notion.so/bc1eadf25a5d4f728fd0072e5118a096" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">小小调研了一下，打算用</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">utterances</strong></span><span class="SemanticString">作为博客的评论插件。</span></span></p></div><div id="https://www.notion.so/fe3b395d724949499a4f0bd2dee63d83" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/ca3b5cc6b4d44d3a8c19220329649e9b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></article>
  <footer class="Footer">
  <div>&copy; PC’s Notablog 2022</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>

</body>
<script src="https://utteranc.es/client.js"
        repo="notion-blog"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

</html>